{"version":3,"sources":["firebase.js","pages/Login.js","pages/Register.js","images/addAvatar.png","context/AuthContext.js","context/ChatContext.js","components/Message.js","components/Messages.js","components/Input.js","images/attach.png","components/Chat.js","images/cam.png","images/add.png","images/more.png","components/Navbar.js","components/Search.js","components/Chats.js","components/Sidebar.js","pages/Home.js","App.js","index.js"],"names":["auth","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getAuth","db","getFirestore","storage","getStorage","Login","useState","err","setErr","navigate","useNavigate","handleSubmit","e","a","preventDefault","email","target","value","password","signInWithEmailAndPassword","className","onSubmit","type","placeholder","to","Register","loading","setLoading","displayName","file","files","createUserWithEmailAndPassword","res","date","Date","getTime","storageRef","ref","uploadBytesResumable","then","getDownloadURL","downloadURL","updateProfile","user","photoURL","setDoc","doc","uid","console","log","style","display","id","htmlFor","src","alt","AuthContext","createContext","AuthContextProvider","children","currentUser","setCurrentUser","useEffect","unsub","onAuthStateChanged","Provider","ChatContext","ChatContextProvider","useContext","useReducer","state","action","payload","chatId","dispatch","data","Message","message","useRef","current","scrollIntoView","bevavior","senderId","toDate","toLocaleTimeString","hour","minute","hour12","text","img","Messages","messages","setMessages","unSub","onSnapshot","exists","map","m","Input","setText","setImg","handleSend","uuid","uploadTask","on","error","snapshot","updateDoc","arrayUnion","Timestamp","now","serverTimestamp","onChange","onClick","Chat","Navbar","signOut","Search","username","setUsername","setUser","handleSearch","q","query","collection","where","getDocs","forEach","handleSelect","combinedId","getDoc","onKeyDown","code","Chats","chats","setChats","getChats","Object","entries","sort","b","chat","u","userInfo","lastMessage","Sidebar","Home","App","ProtectedRoute","basename","process","path","index","element","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.562e5847.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore} from 'firebase/firestore'\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAAXDf6iSUR2A_ddLqsh8ulO9GG4tG2dTc\",\r\n  authDomain: \"chat-347db.firebaseapp.com\",\r\n  projectId: \"chat-347db\",\r\n  storageBucket: \"chat-347db.appspot.com\",\r\n  messagingSenderId: \"454696638541\",\r\n  appId: \"1:454696638541:web:4f138342c55afd5e042404\",\r\n  measurementId: \"G-1ZTH8JVJJB\"\r\n};\r\n\r\n// Initialize Firebase\r\nexport const app = initializeApp(firebaseConfig);\r\nexport const auth = getAuth();\r\nexport const db = getFirestore();\r\nexport const storage = getStorage();\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport { auth } from \"../firebase\";\r\n\r\nconst Login = () => {\r\n  const [err, setErr] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const email = e.target[0].value;\r\n    const password = e.target[1].value;\r\n\r\n    \r\n\r\n    try {\r\n      await signInWithEmailAndPassword(auth, email, password);\r\n      navigate(\"/\")\r\n    } catch (err) {\r\n      setErr(true);\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"formContainer\">\r\n      <div className=\"formWrapper\">\r\n        <span className=\"logo\">UNCHAT</span>\r\n        <span className=\"title\">Login</span>\r\n        <form onSubmit={handleSubmit}>\r\n          <input type=\"email\" placeholder=\"Email\" />\r\n          <input type=\"password\" placeholder=\"Password\" />\r\n\r\n          <button>Sign In</button>\r\n          {err && <span>Something went Wrong</span>}\r\n        </form>\r\n        <p>You don't have a account? <Link to=\"/register\">REGISTER</Link></p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport { createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\r\nimport { auth, storage, db } from \"../firebase\";\r\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\r\nimport { doc, setDoc } from \"firebase/firestore\";\r\nimport Add from \"../images/addAvatar.png\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\n\r\nconst Register = () => {\r\n  const [err, setErr] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const displayName = e.target[0].value;\r\n    const email = e.target[1].value;\r\n    const password = e.target[2].value;\r\n    const file = e.target[3].files[0];\r\n\r\n    try {\r\n      //Create user\r\n      const res = await createUserWithEmailAndPassword(auth, email, password);\r\n\r\n      //Create a unique image name\r\n      const date = new Date().getTime();\r\n \r\n      const storageRef = ref(storage, `${displayName + date}`);\r\n\r\n      await uploadBytesResumable(storageRef, file).then(() => {\r\n        getDownloadURL(storageRef).then(async (downloadURL) => {\r\n          try {\r\n            //Update profile\r\n            await updateProfile(res.user, {\r\n              displayName,\r\n              photoURL: downloadURL,\r\n            });\r\n            //create user on firestore\r\n            await setDoc(doc(db, \"users\", res.user.uid), {\r\n              uid: res.user.uid,\r\n              displayName,\r\n              email,\r\n              photoURL: downloadURL,\r\n            });\r\n            //create empty user chats on firestore\r\n            await setDoc(doc(db, \"userChats\", res.user.uid), {});\r\n            navigate(\"/\");\r\n          } catch (err) {\r\n            console.log(err);\r\n            setErr(true);\r\n            setLoading(false);\r\n          }\r\n        });\r\n      });\r\n    } catch (err) {\r\n      setErr(true);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"formContainer\">\r\n      <div className=\"formWrapper\">\r\n        <span className=\"logo\">UNCHAT</span>\r\n        <span className=\"title\">Register</span>\r\n        <form onSubmit={handleSubmit}>\r\n          <input type=\"text\" placeholder=\"Display Name\" />\r\n          <input type=\"email\" placeholder=\"Email\" />\r\n          <input type=\"password\" placeholder=\"Password\" />\r\n          <input style={{ display: \"none\" }} type=\"file\" id=\"file\" />\r\n          <label htmlFor=\"file\">\r\n            <img src={Add} alt=\"\"></img>\r\n            <span>Add an Avatar</span>\r\n          </label>\r\n          <button>Sign Up</button>\r\n          {loading && \"Uploading and compressing the image please wait...\"}\r\n          {err && <span>Something went Wrong</span>}\r\n        </form>\r\n        <p>\r\n          You do have a account? <Link to=\"/login\">LOGIN</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","export default \"data:image/png;base64,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\"","import { onAuthStateChanged } from \"firebase/auth\";\r\nimport { createContext, useState, useEffect } from \"react\";\r\nimport { auth } from \"../firebase\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, (user) => {\r\n      setCurrentUser(user);\r\n    });\r\n\r\n    return () => {\r\n      unsub();\r\n    }\r\n  }, []);\r\n  return(\r\n  <AuthContext.Provider value={{currentUser}}>\r\n    {children}\r\n  </AuthContext.Provider>\r\n  );\r\n};\r\n","import {\r\n  createContext,\r\n  useContext,\r\n  useReducer,\r\n} from \"react\";\r\nimport { AuthContext } from \"./AuthContext\";\r\n\r\nexport const ChatContext = createContext();\r\n\r\nexport const ChatContextProvider = ({ children }) => {\r\n  const { currentUser } = useContext(AuthContext);\r\n  const INITIAL_STATE = {\r\n    chatId: \"null\",\r\n    user: {},\r\n  };\r\n\r\n  const chatReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case \"CHANGE_USER\":\r\n        return {\r\n          user: action.payload,\r\n          chatId:\r\n            currentUser.uid > action.payload.uid\r\n              ? currentUser.uid + action.payload.uid\r\n              : action.payload.uid + currentUser.uid,\r\n        };\r\n\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(chatReducer, INITIAL_STATE);\r\n\r\n  return (\r\n    <ChatContext.Provider value={{ data:state, dispatch }}>\r\n      {children}\r\n    </ChatContext.Provider>\r\n  );\r\n};","import React, { useContext, useEffect, useRef } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { ChatContext } from \"../context/ChatContext\";\r\n\r\nconst Message = ({ message }) => {\r\n  const { currentUser } = useContext(AuthContext);\r\n  const { data } = useContext(ChatContext);\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    ref.current?.scrollIntoView({ bevavior: \"smooth\" });\r\n  }, [message]);\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={`message ${message.senderId === currentUser.uid && \"owner\"}`}\r\n    >\r\n      <div className=\"messageinfo\">\r\n        <img\r\n          src={\r\n            message.senderId === currentUser.uid\r\n              ? currentUser.photoURL\r\n              : data.user.photoURL\r\n          }\r\n          alt=\"\"\r\n        />\r\n        <span>\r\n          {message.date\r\n            .toDate()\r\n            .toLocaleTimeString([], {\r\n              hour: \"2-digit\",\r\n              minute: \"2-digit\",\r\n              hour12: true,\r\n            })}\r\n        </span>\r\n      </div>\r\n      <div className=\"messagecontent\">\r\n        <p>{message.text}</p>\r\n        {message.img && <img src={message.img} alt=\"\" />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import { doc, onSnapshot } from \"firebase/firestore\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { ChatContext } from \"../context/ChatContext\";\r\nimport { db } from \"../firebase\";\r\nimport Message from \"./Message\";\r\n\r\nconst Messages = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const { data } = useContext(ChatContext);\r\n\r\n  useEffect(() => {\r\n    const unSub = onSnapshot(doc(db, \"chats\", data.chatId), (doc) => {\r\n      doc.exists() && setMessages(doc.data().messages);\r\n    });\r\n    return () => {\r\n      unSub();\r\n    };\r\n  }, [data.chatId]);\r\n  return (\r\n    <div className=\"messages\">\r\n      {messages.map((m) => (\r\n        <Message message={m} key={m.id}/>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messages;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { ChatContext } from \"../context/ChatContext\";\r\n\r\nimport attach from \"../images/attach.png\";\r\nimport {\r\n  arrayUnion,\r\n  doc,\r\n  serverTimestamp,\r\n  Timestamp,\r\n  updateDoc,\r\n} from \"firebase/firestore\";\r\nimport { db, storage } from \"../firebase\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { getDownloadURL, ref, uploadBytesResumable } from \"firebase/storage\";\r\n\r\nconst Input = () => {\r\n  const [text, setText] = useState(\"\");\r\n  const [img, setImg] = useState(null);\r\n\r\n  const { currentUser } = useContext(AuthContext);\r\n  const { data } = useContext(ChatContext);\r\n\r\n  const handleSend = async () => {\r\n    if (img) {\r\n      const storageRef = ref(storage, uuid());\r\n\r\n      const uploadTask = uploadBytesResumable(storageRef, img);\r\n      uploadTask.on(\r\n        (error) => {\r\n          // setErr(true);\r\n        },\r\n        () => {\r\n          getDownloadURL(uploadTask.snapshot.ref).then(async (downloadURL) => {\r\n            await updateDoc(doc(db, \"chats\", data.chatId), {\r\n              messages: arrayUnion({\r\n                id: uuid(),\r\n                text,\r\n                senderId: currentUser.uid,\r\n                date: Timestamp.now(),\r\n                img: downloadURL,\r\n              }),\r\n            });\r\n          });\r\n        }\r\n      );\r\n    } else {\r\n      await updateDoc(doc(db, \"chats\", data.chatId), {\r\n        messages: arrayUnion({\r\n          id: uuid(),\r\n          text,\r\n          senderId: currentUser.uid,\r\n          date: Timestamp.now(),\r\n        }),\r\n      });\r\n    }\r\n\r\n    await updateDoc(doc(db, \"userChats\", currentUser.uid), {\r\n      [data.chatId + \".lastMessage\"]: {\r\n        text,\r\n      },\r\n      [data.chatId + \".date\"]: serverTimestamp(),\r\n    });\r\n    await updateDoc(doc(db, \"userChats\", data.user.uid), {\r\n      [data.chatId + \".lastMessage\"]: {\r\n        text,\r\n      },\r\n      [data.chatId + \".date\"]: serverTimestamp(),\r\n    });\r\n\r\n    setText(\"\");\r\n    setImg(null);\r\n  };\r\n  return (\r\n    <div className=\"input\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Type Something\"\r\n        onChange={(e) => setText(e.target.value)}\r\n        value={text}\r\n      />\r\n      <div className=\"send\">\r\n        <img src={img} alt=\"\" />\r\n        <input\r\n          type=\"file\"\r\n          style={{ display: \"none\" }}\r\n          id=\"file\"\r\n          onChange={(e) => setImg(e.target.files[0])}\r\n        />\r\n        <label htmlFor=\"file\">\r\n          <img src={attach} alt=\"\" />\r\n        </label>\r\n        <button onClick={handleSend}>Send</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgEAQAAACJ4248AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAAAGAAAABgAPBrQs8AAAAHdElNRQfmCB8RBhBiyiCSAAACDklEQVRYw+2XPUgbcRjGn0vtUj8mzRDBUSeXkkgbHCS4xWiV1FWQkqWEwkF7yQUUOoTGFheziDpEJzPce5JIN48YMgnRkg4NnbocItr6kaXX4e2QEEqwekkuXXrP+D7Pvff7P8v/DrDVhPa809OU1DTyVCrkqVQoqWmqOxBoZ6dgNkiH8TguotFbzUg8PluOxVoBcJg9OS6iUQwZhvAxEuEXLpfj/eAgHkkShgwD72SZRqam2mni7tMnNY2IWQ1JUqOnhiSJiJlGDg461gBSHg8AGJOpVKNVn4lud+cA5O5uAJifPz1ttOozZ29v5wAaROFCgc7y+Vb9P9XVCgB8Xi8KbfjtNmClbAAbwAawAWyA1u6Ckq5j1OVSvo+PAwBytdk/a+DDzg4ACLl8XshVbz3hy/Z25wDObm4AIL3b0wMAvzaWlrCQSKCk6yjpOhYSCWNmeRkA9ry174LaM5aINo+PiZiJJybuyyorPh8RMz0pFq1rYDKbBQC8EcV7F55UM0Iok7GsAWXF6aT162siZtUny3/NlWKxalOXl5nH/f1mdpv+L1APg0HeTKcxKwh4ms065lZXf746OgKArm9jY44TUeTnfj+ImV8Hg3OjimIpQB3i7dYWXvb13Rp4dnXFnxcXzb68aQAASO8ODDxcD4eFT34/fx0eBgDkymXhx/7+g+TaWqB4ft7szv9bvwGBKNSBpuqWcAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMi0wOC0zMVQxNzowNjoxNiswMDowMJSH2i8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjItMDgtMzFUMTc6MDY6MTYrMDA6MDDl2mKTAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIyLTA4LTMxVDE3OjA2OjE2KzAwOjAwss9DTAAAAABJRU5ErkJggg==\"","import React, { useContext } from \"react\";\r\nimport Messages from \"./Messages\";\r\nimport Input from \"./Input\";\r\nimport cam from \"../images/cam.png\";\r\nimport add from \"../images/add.png\";\r\nimport more from \"../images/more.png\";\r\nimport { ChatContext } from \"../context/ChatContext\";\r\n\r\nconst Chat = () => {\r\n  const { data } = useContext(ChatContext);\r\n\r\n  return (\r\n    <div className=\"chat\">\r\n      <div className=\"chatinfo\">\r\n        <span>{data.user?.displayName}</span>\r\n        <div className=\"chaticons\">\r\n          <img src={cam} alt=\"\" />\r\n          <img src={add} alt=\"\" />\r\n          <img src={more} alt=\"\" />\r\n        </div>\r\n      </div>\r\n      <Messages />\r\n      <Input />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTA4LTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmRjMjBmNTM2LTJhZjUtNGM3My05ZjZjLTAzMzkwY2JlN2VjMDwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5MYW1hIERldjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PvItxZYAAAKwSURBVFiF7Ze9bhNBFIW/M2s7JqJAUKdKpJS8AwXpkRANzxAJ0cIbREi8AAUSSqBFUNDxBrQoilLTUeQPxzuHYmYdx3Y2tpdYSPGRVusdz5355ufeuQNLLbXUUrdbGi04ODgd+isSggR4Ut0pZRvZOASQoN+HjY07swPaZn//BElIKAQszcs13G5q264GKyRPxFhf716ybY0RKz2AJboS3dTofJLARmXJEagPxh70gR2RiivtxwBDCAGIwOMYvQu0mwBm2xVbP4Et0C/JGU+2jaS7wNFUgDE6ADEEPbJ1HxyB0AAwz5YegreA90ArRp+HACEUOxA/A99zP3HYtq7jMzCS+pI87wOK1dKC2/ltSdi8Ab8En+byMYixGZwAr5H3jHK21aANyX3wjs2LBH+16gCH1cCVL5nG7CRvJbbTN6Gu/UZ7a1bZ/JF4BdpOMydxzeCnncGmKkhh6zWwmYqcw7azU0zmvHFAKcUSCYE2bZy9ugo11EWxG1/iBCTZsk3M3luF6WvtF7UHDdalT2Aa31vAElvpaFMEh6HfmgZwAUucArbtYOurpGPbIQXw/2eJI4DNO+BJ2ocuMmTtTC4IMKWTkh/Y/gY8T2mcA6i8OObGZ3QqQNsNspkq1zU5OGP7A/AsQ7byeT3Rus5JKqhSDbLWbFqCCqDIza7Y/iQpgHZTEgGTIOsAOwC2uzV1plXVz+8M0odY2OxdDCD1di2glCrb/ihpg3+TsHaAwxD0JSG4bLdXOTs7FoS9VqujTqeg1yvrAfNWqzbNjxjj00bbb0ijuyTGSKfT9fl5T1A6xsBgIq8CzMcQpINd6TYW48W5ObcsKdgMEoOyTGlgCIVjNL1eb/LARgsOD09ptUS7DScnxh69gc0qke8d9Ptn2GZ19R5ra81vi0sttdRSt0F/AbV4QUoZ1kOTAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTA4LTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmQyOGI5NDkyLTJiMDAtNDVjZC1iNDc4LTNjODM4YzMxZTZhMzwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5MYW1hIERldjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZh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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADmGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDIyLTA4LTMwPC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmNhNTE4ODMwLTBmMmYtNGY0NC1iYzQ2LWVlM2JlZmQ4MmIxNjwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6RmJJZD41MjUyNjU5MTQxNzk1ODA8L0F0dHJpYjpGYklkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5MYW1hIERldjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PlV4Lz0AAANzSURBVFiF7ZVNixxlFIWfc6u6pyYzi7iImkUWSXqT+Ilg/Fhkl1VcuAn+BUFw7Q/wX7gRQXAl/gIFQQ0EBKMizkdGgpBFxF07091V97iot+ejZ4xuhTrQ0FWc973nPee+t2DAgAEDBgwYMOD/DJ31cnf3L6qqQUq6bkEmIYGkvHx5jUzY25sBpqqEBF1nbEmyAEfgiI62rYiAtoVMqCqQUKltOyyBbSaT5t8F7u7ukwlSX6eqyK6DIhA7Q3LaM+BwwwDS7sVSKj98eD8nk9eYzw8AA2g6XXhzc3ysfBd2lWUVk8n6CT2xKtCmFLGAlKIBXgJekWIT1MvX6Pghs6rqAL0AvAo8BeSlS89rOv0D29i9YxsbNcA1iRvABZvMXCBVbG76lIOnBBbno5fql9u2+0nie+Be17W/2r5p23ZEWW+bK23b3gP/AHwHfiBxR5JHo3Mh9eYDT0v6CvjZ5lvbDyDei6ix29jfh+1tn1JzAjs7+yUOVeAfQdf6SJGEbB5H8JzNY0hltpbWvpH8Zh9z31+SZqAXwVtABe5sPgPe6VPwcj+AN0B3gZjPm7x+/UjWGQ6iovuqxESyj3pLC+BCJrf6jWtLzQsSr9skaNmrc9trkG/bJmLRAc8At0tvlx7XrJS8LRnJoRXL6lPqdGjxCIo6oBfppfjNY9z1k0lIJQFsn+vfrSHlOjByH8XyFqscaukk58+f1HPGJdHy98hm3jvCXGIB1OX5bj8aGiDu2/xeRscMPC/tAfA1QNe1MR4/+s32VilTeJTD8Es5nC9ePNmDZwm0lCH5T+ADG2yv2R73wvkwk/uZCA4C8kDi/eJYY2sMroCPwF9KliRms2eReFdiatPYjG2PJH2+sdF8urGxToS6EthRHqsCt7cPkGCxWFDXNRK3JG4CYXMvIr9o25qIJLNDCtF3/A2Jt3qet2x9EtHRFzSgoB9b14A7wBp4t6rWP27bg1w2x5UrTenPfxC4s3PQWxsiM8vuPqRXVarrwgBXrzZsbU2JiJCURzxYLMRoVOYvuQwrpEj7iFfXDW07Y7l2Mjn35IgnkwbJjMdJXduFU5dftVhUzuyX7e3NmM3MdDrPVd547MOi0hg76T926Div6+blsomqOnVnz/4WQz99V59PWF/+r/JOFTi25klcrc6XAQMGDBgwYMCA/4K/AR9NvILUl7eBAAAAAElFTkSuQmCC\"","import React, { useContext } from \"react\";\r\nimport { signOut } from \"firebase/auth\";\r\nimport { auth } from \"../firebase\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nconst Navbar = () => {\r\n  const {currentUser} = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <span className=\"logo\">UNCHAT</span>\r\n      <div className=\"user\">\r\n        <img src={currentUser.photoURL} alt=\"\" />\r\n        <span>{currentUser.displayName}</span>\r\n        <button onClick={() =>signOut(auth)}>Logout</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  serverTimestamp,\r\n  setDoc,\r\n  updateDoc,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"../firebase\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\n\r\nconst Search = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [user, setUser] = useState(null);\r\n  const [err, setErr] = useState(false);\r\n\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  const handleSearch = async () => {\r\n    const q = query(\r\n      collection(db, \"users\"),\r\n      where(\"displayName\", \"==\", username)\r\n    );\r\n    try {\r\n      const querySnapshot = await getDocs(q);\r\n      querySnapshot.forEach((doc) => {\r\n        setUser(doc.data());\r\n      });\r\n    } catch (err) {\r\n      setErr(true);\r\n    }\r\n  };\r\n\r\n  const handleKey = (e) => {\r\n    e.code === \"Enter\" && handleSearch();\r\n  };\r\n\r\n  const handleSelect = async () => {\r\n    //check whether the group(chats in fs) exists,if not create\r\n    const combinedId =\r\n      currentUser.uid > user.uid\r\n        ? currentUser.uid + user.uid\r\n        : user.uid + currentUser.uid;\r\n    try {\r\n      const res = await getDoc(doc(db, \"chats\", combinedId));\r\n\r\n      if (!res.exists()) {\r\n        //create a chat in chats collection\r\n        await setDoc(doc(db, \"chats\", combinedId), { messages: [] });\r\n\r\n        //create user chats\r\n        await updateDoc(doc(db, \"userChats\", currentUser.uid), {\r\n          [combinedId + \".userInfo\"]: {\r\n            uid: user.uid,\r\n            displayName: user.displayName,\r\n            photoURL: user.photoURL,\r\n          },\r\n          [combinedId + \".date\"]: serverTimestamp(),\r\n        });\r\n        await updateDoc(doc(db, \"userChats\", user.uid), {\r\n          [combinedId + \".userInfo\"]: {\r\n            uid: currentUser.uid,\r\n            displayName: currentUser.displayName,\r\n            photoURL: currentUser.photoURL,\r\n          },\r\n          [combinedId + \".date\"]: serverTimestamp(),\r\n        });\r\n      }\r\n    } catch (err) {}\r\n\r\n    setUser(null)\r\n    setUsername(\"\")\r\n  };\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      <div className=\"searchform\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Find a user\"\r\n          onKeyDown={handleKey}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          value={username}\r\n        />\r\n      </div>\r\n      {err && <span>User not Found</span>}\r\n      {user && (\r\n        <div className=\"userchat\" onClick={handleSelect}>\r\n          <img src={user.photoURL} alt=\"\"></img>\r\n          <div className=\"userchatinfo\">\r\n            <span>{user.displayName}</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { doc, onSnapshot } from \"firebase/firestore\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport { ChatContext } from \"../context/ChatContext\";\r\nimport { db } from \"../firebase\";\r\n\r\nconst Chats = () => {\r\n  const [chats, setChats] = useState([]);\r\n\r\n  const { currentUser } = useContext(AuthContext);\r\n  const { dispatch } = useContext(ChatContext);\r\n\r\n  useEffect(() => {\r\n    const getChats = () => {\r\n      const unsub = onSnapshot(doc(db, \"userChats\", currentUser.uid), (doc) => {\r\n        setChats(doc.data());\r\n      });\r\n\r\n      return () => {\r\n        unsub();\r\n      };\r\n    };\r\n\r\n    currentUser.uid && getChats();\r\n  }, [currentUser.uid]);\r\n  \r\n\r\n  const handleSelect = (u) => {\r\n    dispatch({ type: \"CHANGE_USER\", payload: u });\r\n  };\r\n\r\n  return (\r\n    <div className=\"chats\">\r\n      {Object.entries(chats)?.sort((a,b) => b[1].date - a[1].date).map((chat) => (\r\n        <div\r\n          className=\"userchat\"\r\n          key={chat[0]}\r\n          onClick={() => handleSelect(chat[1].userInfo)}\r\n        >\r\n          <img src={chat[1].userInfo.photoURL} alt=\"\"></img>\r\n          <div className=\"userchatinfo\">\r\n            <span>{chat[1].userInfo.displayName}</span>\r\n            <p>{chat[1].lastMessage?.text}</p>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chats;\r\n","import React from 'react'\r\nimport Navbar from './Navbar'\r\nimport Search from './Search'\r\nimport Chats from './Chats'\r\n\r\nconst Sidebar = () => {\r\n  return (\r\n    <div className='sidebar'>\r\n      <Navbar />\r\n      <Search />\r\n      <Chats />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n","import React from \"react\";\r\nimport Chat from \"../components/Chat\";\r\nimport Sidebar from \"../components/Sidebar\";\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"container\">\r\n        <Sidebar />\r\n        <Chat />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useContext } from \"react\";\r\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\r\n\r\nimport Login from \"./pages/Login\";\r\nimport Register from \"./pages/Register\";\r\nimport Home from \"./pages/Home\";\r\nimport \"./style.scss\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\n\r\nconst App = () => {\r\n\r\n  const {currentUser} = useContext(AuthContext);\r\n  \r\n  const ProtectedRoute = ({children}) => {\r\n    if(!currentUser){\r\n      return <Navigate to=\"/login\" />\r\n    }\r\n\r\n    return children;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n\r\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n      <Routes>\r\n        <Route path=\"/\">\r\n         <Route index element={<ProtectedRoute><Home/></ProtectedRoute>} />\r\n         <Route path=\"login\" element={<Login/>} />\r\n         <Route path=\"register\" element={<Register/>} />\r\n        </Route>\r\n      </Routes>\r\n      </BrowserRouter>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport App from \"./App\";\r\nimport { AuthContextProvider } from \"./context/AuthContext\";\r\nimport { ChatContextProvider } from \"./context/ChatContext\";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\nroot.render(\r\n  <AuthContextProvider>\r\n    <ChatContextProvider>\r\n      <React.StrictMode>\r\n        <App />\r\n      </React.StrictMode>\r\n    </ChatContextProvider>\r\n  </AuthContextProvider>\r\n);\r\n"],"sourceRoot":""}